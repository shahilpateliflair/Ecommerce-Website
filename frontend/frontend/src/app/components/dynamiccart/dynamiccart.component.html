
<app-header></app-header>

 
  <app-not-found class="not" [visible]="!cart || !cart.items.length" resetLinkText="Go to home" notFoundMessage="Nothing Found!!">
  </app-not-found>

  <div
  class="row d-flex justify-content-center align-items-center h-100"
  *ngIf="cart && cart.items.length"
>
  <div class="col-12">
    <div
      class="card card-registration card-registration-2"
      style="border-radius: 10px"
    >
      <div class="card-body p-0">
        <div class="row g-0">
          <div class="col-lg-8">
            <div class="p-5">
              <div
                class="d-flex justify-content-between align-items-center mb-5"
              >
                <h1 class="fw-bold mb-0 text-black">Shopping Cart</h1>
                <h6 class="mb-0 text-muted">Total Items: {{ cart.TotalCount }}</h6>
              </div>
              <hr class="my-4" />

              <div
                class="row mb-4 d-flex justify-content-between align-items-center"
                *ngFor="let cart of cart.items"
              >
                <div class="col-md-2 col-lg-2 col-xl-2">
                  <!-- <img  [src]="getProductImageUrl(cart.itm)" [alt]="cart.itm.name" /> -->
                  <img [src]="getImageUrlByColor(cart.selectedColor, cart.itm)" [alt]="cart.itm.name" />
                </div>
                <div class="col-md-3 col-lg-3 col-xl-3">
                  <a routerLink="/product/{{ cart.itm._id }}">
                    {{ cart.itm.name }}
                  </a>
                  <div>Size: {{ cart.selectedSize }}</div>
                  <div>Color: {{ cart.selectedColor }}</div>
                </div>
               
                <div class="col-md-3 col-lg-3 col-xl-2 d-flex">
                  <button
                    class="btn btn-link px-2"
                    (click)="decrementQuantity(cart)"
                    #quantitySelect
                    [value]="cart.quantity"
                    (change)="changeQuantity(cart, quantitySelect.value)"
                  >
                    <i class="fas fa-minus"></i>
                  </button>

                  <input
                    id="form1"
                    min="0"
                    name="quantity"
                    [(ngModel)]="cart.quantity"
                    value="1"
                    type="number"
                    class="form-control form-control-sm"
                  />

                  <button
                    class="btn btn-link px-2"
                    (click)="incrementQuantity(cart)"
                  >
                    <i class="fas fa-plus"></i>
                  </button>
                </div>
                <div class="col-md-3 col-lg-2 col-xl-2 offset-lg-1">
                  Item Price: <br />
                  {{ cart.itm.price | currency }}
                </div>
                <div class="col-md-1 col-lg-1 col-xl-1 text-end">
                  <button class="text-muted"
                  (click)="removeFromCart(cart)"><i class="fas fa-times"></i
                  ></button>
                </div>
              </div>

              <div class="pt-5">
                <h6 class="mb-0">
                  <a href="/" class="text-body"
                    ><i class="fas fa-long-arrow-alt-left me-2"></i>Back to
                    shop</a
                  >
                </h6>
              </div>
            </div>
          </div>
          <div class="col-lg-4 bg-grey">
            <div class="p-5">
              <h3 class="fw-bold mb-5 mt-2 pt-1">Summary</h3>
             

              

              

             
   

             

              <hr class="my-4" />
              <div *ngIf="cart && cart.items.length">
                <div class="d-flex justify-content-between mb-5">
                  <h5 class="text-uppercase">
                    Total price: {{ cart.TotalPrice | currency }}
                  </h5>
                  <h5 class="text-uppercase"> Total Items: {{ cart.TotalCount }}</h5>
                </div>
              </div>
              <button
                type="button"
                class="btn btn-dark btn-block btn-lg bg-white"
                data-mdb-ripple-color="white"
              ><a routerLink="/checkout">
                Go For checkout</a>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

